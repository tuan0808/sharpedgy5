<div class="auth-bg">
    <div class="authentication-box">
        <div class="text-center"><img src="assets/images/logo.png" alt=""></div>
        <div class="card mt-4">
            <div class="card-body">
                <div class="text-center">
                    <h4>LOGIN</h4>
                    @if(loginError()){
                        <div class="alert alert-danger mt-3">{{ loginError() }}</div>
                    }
                </div>
                <form class="theme-form" [formGroup]="loginForm" (ngSubmit)="login()" autocomplete="on"
                      name="loginForm">
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input
                                id="email"
                                name="email"
                                type="email"
                                class="form-control"
                                formControlName="email"
                                autocomplete="username"
                                [class.is-invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
                        />
                        @if (loginForm.get('email')?.errors?.['required'] && loginForm.get('email')?.touched) {
                            <div class="invalid-feedback">Email is required</div>
                        }
                        @if (loginForm.get('email')?.errors?.['email'] && loginForm.get('email')?.touched) {
                            <div class="invalid-feedback">Please enter a valid email</div>
                        }
                    </div>
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input
                                id="password"
                                name="password"
                                type="password"
                                class="form-control"
                                formControlName="password"
                                autocomplete="current-password"
                                [class.is-invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
                        />
                        @if (loginForm.get('password')?.errors?.['required'] && loginForm.get('password')?.touched) {
                            <div class="invalid-feedback">Password is required</div>
                        }
                        @if (loginForm.get('password')?.errors?.['minlength'] && loginForm.get('password')?.touched) {
                            <div class="invalid-feedback">Password must be at least 6 characters</div>
                        }
                    </div>
                    <div class="checkbox p-0">
                        <input id="checkbox1" type="checkbox">
                        <label for="checkbox1">Remember me</label>
                    </div>
                    <div class="form-group row mt-3 mb-0">
                        <button
                                type="submit"
                                class="btn btn-primary w-100"
                                [disabled]="loginForm.invalid || isLoading()">
                            @if (isLoading()) {
                                <span class="spinner-border spinner-border-sm me-2"></span>
                            }
                            Login
                        </button>
                    </div>
                    <div class="login-divider"></div>
                    <div class="social mt-3">
                        <div class="form-group btn-showcase d-flex">
                            <button class="btn social-btn btn-fb d-inline-block"
                                    (click)="facebookLogin()"
                                    [disabled]="isLoading()"
                                    target="_blank">
                                <i class="fa fa-facebook"></i>
                            </button>
                            <button class="btn social-btn btn-google d-inline-block"
                                    (click)="googleLogin()"
                                    [disabled]="isLoading()"
                                    target="_blank">
                                <i class="fa fa-google"></i>
                            </button>
                            <button class="btn social-btn btn-twitter d-inline-block"
                                    (click)="appleLogin()"
                                    [disabled]="isLoading()"
                                    target="_blank">
                                <i class="fa fa-twitter"></i>
                            </button>
                            <button class="btn social-btn btn-github d-inline-block"
                                    (click)="appleLogin()"
                                    [disabled]="isLoading()"
                                    target="_blank">
                                <i class="fa fa-apple"></i>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
