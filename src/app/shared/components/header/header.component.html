<div class="page-main-header" [ngClass]="{ open: navServices.collapseSidebar }" id="page-main-header">
    <div class="main-header-right row">
        <div class="main-header-left col-auto p-0 d-lg-none">
            <div class="logo-wrapper">
            </div>
        </div>
        <div class="mobile-sidebar col-auto p-0">
            <div class="media-body text-start switch-sm">
                <label class="switch">
                    <a href="javascript:void(0)" (click)="collapseSidebar()">
                        <app-feather-icons id="sidebar-toggle" [icon]="'align-left'"></app-feather-icons>
                    </a>
                </label>
            </div>
        </div>
        <div class="nav-right col">
            <ul class="nav-menus" [ngClass]="{ open: openNav }">
                <li>
                    <form class="form-inline search-form">
                        <div class="form-group mb-0">
                            <input class="form-control-plaintext" [class.open]="isOpenMobile" [(ngModel)]="text"
                                   [ngModelOptions]="{ standalone: true }" (keyup)="searchTerm(text)" type="text"
                                   autocomplete="off"
                                   placeholder="Search.."/>
                            <span class="d-sm-none mobile-search">
                                <app-feather-icons [icon]="'search'" (click)="isOpenMobile = !isOpenMobile"></app-feather-icons>
                            </span>
                            @if(menuItems?.length) {
                                <div class="Typeahead-menu" [class.is-open]="searchResult" id="search-outer">
                                    @for (menuItem of menuItems | slice:0:8; track menuItem) {
                                        <div class="ProfileCard u-cf">
                                            <div class="ProfileCard-avatar">
                                                <app-feather-icons [icon]="menuItem.icon" class="header-search"></app-feather-icons>
                                            </div>
                                            <div class="ProfileCard-details">
                                                <div class="ProfileCard-realName">
                                                    <a [routerLink]="menuItem?.path" class="realname" (click)="removeFix()">{{ menuItem?.title }}</a>
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </div>
                            } @else {
                                <div class="Typeahead-menu" [class.is-open]="searchResultEmpty">
                                    <div class="tt-dataset tt-dataset-0">
                                        <div class="EmptyMessage">Opps!! There are no result found.</div>
                                    </div>
                                </div>
                            }
                        </div>
                    </form>
                </li>
                <li>
                    <a href="javascript:void(0)" class="text-dark" (click)="toggleFullScreen()">
                        <app-feather-icons [icon]="'maximize'"></app-feather-icons>
                    </a>
                </li>
                <li class="onhover-dropdown">
                    <a class="txt-dark" href="javascript:void(0)">
                        <h6>EN</h6>
                    </a>
                    <ul class="language-dropdown onhover-show-div p-20">
                        <li><a href="javascript:void(0)" data-lng="en" (click)="changeLanguage('en')">
                            <i class="flag-icon flag-icon-is"></i> English</a></li>
                        <li><a href="javascript:void(0)" data-lng="es" (click)="changeLanguage('es')">
                            <i class="flag-icon flag-icon-um"></i> Spanish</a></li>
                        <li><a href="javascript:void(0)" data-lng="pt" (click)="changeLanguage('pt')">
                            <i class="flag-icon flag-icon-uy"></i> Portuguese</a></li>
                        <li><a href="javascript:void(0)" data-lng="fr" (click)="changeLanguage('fr')">
                            <i class="flag-icon flag-icon-nz"></i> French</a></li>
                    </ul>
                </li>
                <li class="onhover-dropdown">
                    <app-feather-icons [icon]="'bell'"></app-feather-icons>
                    <span class="dot"></span>
                    <ul class="notification-dropdown onhover-show-div">
                        <li>Active Games</li>
                        <li>
                            <div class="media">
                                <div class="flex-grow-1">
                                    <h6 class="mt-0">
                                        <span><app-feather-icons class="shopping-color" [icon]="'shopping-bag'"></app-feather-icons></span>
                                        JAX vs MIA<small class="pull-right">6:00 AM</small>
                                    </h6>
                                    <p class="mb-0">Stadium: Hard Rock Stadium, Miami FL</p>
                                    <div class="d-flex weather-info">
                                        <div>Low: 75°F</div>
                                        <div>High: 82°F</div>
                                        <div>Windy with a chance of rain</div>
                                        <div>Windchill: 75°F</div>
                                        <div>Wind: 15 mph</div>
                                    </div>
                                </div>
                            </div>
                        </li>
                        <li class="bg-light txt-dark"><a [routerLink]="'nfl/schedule'">Schedule</a></li>
                    </ul>
                </li>
                <li>
                    <a>
                        <app-feather-icons class="right_side_toggle" [icon]="'message-circle'" (click)="right_side_bar()">
                        </app-feather-icons>
                        <span class="dot"></span>
                    </a>
                </li>
                <li class="onhover-dropdown">
                    <div class="media align-items-center">
                        <img class="align-self-center pull-right img-50 rounded-circle"
                             src="assets/images/dashboard/user.png"
                             alt="header-user"/>
                        <div class="dotted-animation">
                            <span class="animate-circle"></span>
                            <span class="main-circle"></span>
                        </div>
                    </div>
                    @if(auth.isAuthenticated()) {
                        <ul class="profile-dropdown onhover-show-div p-20">
                            <li class="text-center mb-3">
                                <strong>{{ auth.displayName() }}</strong>
                            </li>
                            <li>
                                <a [routerLink]="'/profile'">
                                    <app-feather-icons [icon]="'user'"></app-feather-icons>
                                    Profile
                                </a>
                            </li>
                            <li>
                                <a href="javascript:void(0)" (click)="SignOut()">
                                    <app-feather-icons [icon]="'log-out'"></app-feather-icons>
                                    Logout
                                </a>
                            </li>
                        </ul>
                    } @else {
                        <ul class="profile-dropdown onhover-show-div p-20">
                            <li>
                                <a [routerLink]="'/auth/login'">
                                    <app-feather-icons [icon]="'log-in'"></app-feather-icons>
                                    Login
                                </a>
                            </li>
                            <li>
                                <a [routerLink]="'/auth/register'">
                                    <app-feather-icons [icon]="'user-plus'"></app-feather-icons>
                                    Register
                                </a>
                            </li>
                        </ul>
                    }
                </li>
            </ul>
            <div class="d-lg-none mobile-toggle pull-right" (click)="openMobileNav()">
                <app-feather-icons [icon]="'more-horizontal'"></app-feather-icons>
            </div>
        </div>
    </div>
</div>
